<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Alex" />
    <link href="style.css" rel="stylesheet" />
    <title>Alex</title>
  </head>
  <body>
    <div class="container">
      <header>
        <h1><a href="index.html">Alex</a></h1>
        <select name="select" id="opciones">
          <option>Diseño</option>
          <option value="web">Diseño web</option>
          <option value="digital">Diseño digital</option>
          <option value="industrial">Diseño industrial</option>
        </select>
      </header>
      <main>
        <section></section>
      </main>
      <footer>
        <p>
          <a href="#">Alex</a>
          <a href="https://github.com/profesorfaco/dno037-2023">DNO037</a>
        </p>
      </footer>
    </div>
    <!--Primero vamos a buscar la versión más reciente de jQuery-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
      integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!--Y ahora podemos usarla-->
    <script>
      $(function () {
        $.getJSON("./datos.json", function (data) {
          console.log(data);
          //un forEach para mostrar todos los trabajos
          data.forEach(function (t, i) {
            $("section").append(
              '<article class="' +
                t.soporte +
                '"><img src="' +
                t.fotos[0] +
                '" style="border-bottom: 1px solid #e1e1e1 "><h2><a href="single.html?nro=' +
                i +
                '">' +
                t.nombre +
                "</a></h2><p>" +
                t.abstract +
                "</p><small>#" +
                t.soporte +
                "</small></article>"
            );
          });
          //una función para interactuar con el menú
          var valor;
          // opciones posibles desde el select
          var opciones = ["web", "digital", "industrial"];
          // evento change para el select
          // Si está seleccionado, el resto lo deja con opacidad 0.1 (animacion fadeTo slow
          $("#opciones").change(function () {
            valor = $(this).val();
            if (valor == "web") {
              $(".digital").fadeTo("slow", 0.1);
              $(".industrial").fadeTo("slow", 0.1);
              $(".web").fadeTo("slow", 1);
            } else if (valor == "digital") {
              $(".web").fadeTo("slow", 0.1);
              $(".industrial").fadeTo("slow", 0.1);
              $(".digital").fadeTo("slow", 1);
            } else if (valor == "industrial") {
              $(".web").fadeTo("slow", 0.1);
              $(".digital").fadeTo("slow", 0.1);
              $(".industrial").fadeTo("slow", 1);
            } else {
              $(".web").fadeTo("slow", 1);
              $(".digital").fadeTo("slow", 1);
              $(".industrial").fadeTo("slow", 1);
            }
          });
        }); // cierro $.getJSON((){});
      }); //cierro $(function(){});
    </script>
  </body>
</html>
